import*as o from"https://cdn.jsdelivr.net/npm/d3@7/+esm";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}})();const f=800,l=400,h=20,y=20,m=30,u=40,d=o.create("svg").attr("width",f).attr("height",l);var g=o.select(".visHolder").append("div").attr("id","tooltip");function x(n){const r=n.clientX,i=n.clientY,s=n.target.getAttribute("data-date"),t=n.target.getAttribute("data-gdp");g.style("left",r-170+"px").style("top",i-10+"px").style("opacity",1).attr("data-date",s).html(`Date: ${s}<br>GDP: $${t} Billion`)}function w(){g.style("opacity",0)}o.json("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json").then(n=>{const r=n.data,i=o.min(r,e=>e[0]),s=o.max(r,e=>e[0]),t=o.min(r,e=>e[1]),a=o.max(r,e=>e[1]);console.log(i,s,t,a),d.append("text").attr("transform","rotate(-90)").attr("x",-200).attr("y",80).text("Gross Domestic Product"),d.append("text").attr("x",f/2-50).attr("y",l).text("More Information: http://www.bea.gov/national/pdf/nipaguid.pdf").attr("class","info");const c=o.scaleTime().domain([new Date(i),new Date(s)]).range([u,f-y]),p=o.scaleLinear().domain([0,a]).range([l-m,h]);d.append("g").attr("transform",`translate(0,${l-m})`).attr("id","x-axis").call(o.axisBottom(c)),d.append("g").attr("transform",`translate(${u},0)`).attr("id","y-axis").call(o.axisLeft(p)),d.selectAll("rect").data(r).enter().append("rect").attr("class","bar").attr("data-date",e=>e[0]).attr("data-gdp",e=>e[1]).attr("x",e=>c(new Date(e[0]))).attr("y",e=>p(e[1])).attr("width",3).attr("height",e=>l-m-p(e[1])).attr("fill","navy").on("mouseover",x).on("mouseout",w),container.append(d.node())}).catch(n=>{console.error("Error fetching data:",n)});
